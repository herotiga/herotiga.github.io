<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>React开发笔记 - Typecasting</title><meta description="陆续记录React开发的基础知识以及开发模式。"><meta property="og:type" content="blog"><meta property="og:title" content="React开发笔记"><meta property="og:url" content="https://herotiga.github.io/2021/08/06/React%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"><meta property="og:site_name" content="Typecasting"><meta property="og:description" content="陆续记录React开发的基础知识以及开发模式。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/react.png"><meta property="article:published_time" content="2021-08-06T08:04:48.000Z"><meta property="article:modified_time" content="2024-04-22T06:59:49.128Z"><meta property="article:author" content="Mason小王子"><meta property="article:tag" content="front-end"><meta property="article:tag" content="html"><meta property="article:tag" content="css"><meta property="article:tag" content="js"><meta property="article:tag" content="javascript"><meta property="article:tag" content="jquery"><meta property="article:tag" content="vuejs"><meta property="article:tag" content="react"><meta property="article:tag" content="ui"><meta property="article:tag" content="linux"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/react.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://herotiga.github.io/2021/08/06/React%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"},"headline":"Typecasting","image":["https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/react.png"],"datePublished":"2021-08-06T08:04:48.000Z","dateModified":"2024-04-22T06:59:49.128Z","author":{"@type":"Person","name":"Mason小王子"},"description":"陆续记录React开发的基础知识以及开发模式。"}</script><link rel="canonical" href="https://herotiga.github.io/2021/08/06/React%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/"><link rel="alternative" href="/atom.xml" title="Typecasting" type="application/atom+xml"><link rel="icon" href="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/meta/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/meta/logo.png" alt="Typecasting" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">算法</a><a class="navbar-item" href="/stack">技术栈</a><a class="navbar-item" href="/project">项目</a><a class="navbar-item" href="/books">阅读</a><a class="navbar-item" href="/plan">计划</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="thumbnail" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/react.png" alt="React开发笔记"></span></div><article class="card-content article" role="article"><div class="article-meta size-small level is-mobile "><div class="level-left"><time class="level-item" dateTime="2021-08-06T08:04:48.000Z" title="2021-08-06T08:04:48.000Z">2021-08-06</time><span class="level-item"><a class="link-muted" href="/categories/react/">react</a></span><span class="level-item">37 分钟 读完 (大约 5553 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">React开发笔记</h1><div class="content"><p>陆续记录React开发的基础知识以及开发模式。</p>
<a id="more"></a>

<h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><p>通过create-react-app工具快速创建React项目。</p>
<figure class="highlight bash"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装create-react-app</span></span><br><span class="line">npm install -g create-react-app</span><br><span class="line">create-react-app my-app</span><br><span class="line"></span><br><span class="line"><span class="comment"># npx一次性调用create-react-app</span></span><br><span class="line">npx create-react-app my-react-app</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> my-app</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>


<h2 id="渲染"><a href="#渲染" class="headerlink" title="渲染"></a>渲染</h2><p>React DOM和原生DOM是一一对应的。</p>
<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><p>可以使用 <code>map</code>, <code>filter</code> 等方法来创建列表。</p>
<p>实例：创建列表并为每一个列表项绑定 <code>key</code>。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const list &#x3D; [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">function List() &#123;</span><br><span class="line">    const listItems &#x3D; list.map((number, index) &#x3D;&gt; &lt;li key&#x3D;&#123;number.toString()&#125;&gt;&#123;number&#125;&lt;&#x2F;li&gt;)</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;ul&gt;&#123; listItems &#125;&lt;&#x2F;ul&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一般选择列表项中唯一的字段作为列表项的key。</p>
<p>如果列表项中没有唯一的字段，则可以选择 <code>index</code> 作为key。</p>
<h2 id="JSX"><a href="#JSX" class="headerlink" title="JSX"></a>JSX</h2><h3 id="JSX基本语法"><a href="#JSX基本语法" class="headerlink" title="JSX基本语法"></a>JSX基本语法</h3><p>JSX是React的模板语言。</p>
<ul>
<li><p>JSX是JS的扩展。</p>
</li>
<li><p>JSX最外层只能有一个根节点，可以使用 <code>&lt;Fragment&gt;&lt;/Fragment&gt;</code> 包裹，也可以简写为 <code>&lt;&gt;...&lt;/&gt;</code>。</p>
</li>
<li><p>JSX中使用自定义属性需要再DOM中添加前缀 <code>data-</code>。</p>
</li>
<li><p>JSX中使用js变量或者表达式需要将其放在 <code>{}</code> 中。</p>
</li>
<li><p>JSX中不能使用 <code>if...else</code> 语法，但是可以使用三元运算符代替。</p>
</li>
<li><p>JSX中的 <code>class</code> 需要写成 <code>className</code> 。</p>
</li>
<li><p>JSX中的 <code>for</code> 要写成 <code>htmlFor</code> 。</p>
</li>
</ul>
<h3 id="JSX样式"><a href="#JSX样式" class="headerlink" title="JSX样式"></a>JSX样式</h3><p>React中可以使用camelCase的格式来设置内联样式。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function Test() &#123;</span><br><span class="line">    const paragraphStyle &#x3D; &#123;</span><br><span class="line">        color: &#39;red&#39;,</span><br><span class="line">        fontSize: 14,</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">            &lt;p style&#x3D;&#123;paragraphStyle&#125;&gt;测试&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSX注释"><a href="#JSX注释" class="headerlink" title="JSX注释"></a>JSX注释</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function Test() &#123;</span><br><span class="line">    const paragraphStyle &#x3D; &#123;</span><br><span class="line">        color: &#39;red&#39;,</span><br><span class="line">        fontSize: 14,</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">            &#123;&#x2F;* 这是一个JSX注释 *&#x2F;&#125;</span><br><span class="line">            &lt;p style&#x3D;&#123;paragraphStyle&#125;&gt;测试&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSX处理数组"><a href="#JSX处理数组" class="headerlink" title="JSX处理数组"></a>JSX处理数组</h3><p>JSX中可以插入数组，数组会被自动展开。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function List(&#123;list&#125;) &#123;</span><br><span class="line">    const listHtml &#x3D; list.map(item &#x3D;&gt; &lt;li&gt;&#123; item &#125;&lt;&#x2F;li&gt;)</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &#123; listHtml &#125;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><p>React的组件都需要首字母大写。</p>
<h3 id="函数组件"><a href="#函数组件" class="headerlink" title="函数组件"></a>函数组件</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState, useEffect &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 接受props</span><br><span class="line">function Hello(props) &#123;</span><br><span class="line">    useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; 组件已挂载</span><br><span class="line"></span><br><span class="line">      return () &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; 组件卸载前和更新前</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;, []) &#x2F;&#x2F; 空数组表示只在组件挂载时执行一次</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;h1&gt;Hello, &#123; props.name &#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 解构props</span><br><span class="line">function Hello(&#123;name&#125;) &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;h1&gt;Hello, &#123; name &#125;&lt;&#x2F;h1&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>useEffect</code>允许组件在每次渲染后执行副作用，第二个参数设置为<code>[]</code>，可以确保组件只在挂载后执行一次。</p>
<h3 id="类组件"><a href="#类组件" class="headerlink" title="类组件"></a>类组件</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">class Hello extends React.Component &#123;</span><br><span class="line">    &#x2F;&#x2F; 构造方法不是必须的</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props)</span><br><span class="line">        this.state &#x3D; &#123;</span><br><span class="line">            name: props.name,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        &#x2F;&#x2F; 组件已挂载</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; render方法是必须的</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;h1&gt;Hello, &#123; this.state.name &#125;&lt;&#x2F;h1&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="函数组件和类组件的区别"><a href="#函数组件和类组件的区别" class="headerlink" title="函数组件和类组件的区别"></a>函数组件和类组件的区别</h3><p>区别：函数组件开销小，类组件开销大（因为需要创建实例），对于有状态的组件可以采用函数组件+hooks的方式开发，</p>
<p>结论：只使用函数组件+hooks的方式，尽量不用类组件。</p>
<h3 id="深层props传递"><a href="#深层props传递" class="headerlink" title="深层props传递"></a>深层props传递</h3><p><code>Context</code>可以用于向后代组件传递变量。</p>
<h3 id="组件通信"><a href="#组件通信" class="headerlink" title="组件通信"></a>组件通信</h3><ol>
<li><p>父子组件通信<br>使用props</p>
</li>
<li><p>兄弟组件通信<br>发布订阅，redux</p>
</li>
<li><p>组件和后代组件通信<br>发布订阅，redux，Context插件</p>
</li>
</ol>
<h2 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h2><h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><p>React把组件看成是一个状态机，用户通过与组件的交互来实现不同的状态，然后渲染不同的UI。</p>
<p>React中，只需要更新组件的 <code>state</code>，就可以重新渲染组件。</p>
<p>state用于保存渲染中的数据，类似一个快照，<code>setState</code> 的时候会触发页面的重新渲染。</p>
<article class="message is-warning"><div class="message-body">
<p>注意：state的初始化是在构造函数中，不要直接更新state，更新state需要调用setState。</p>
</div></article>

<p>state实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Person extends React.Component &#123;</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props)</span><br><span class="line">        this.state.name &#x3D; props.name</span><br><span class="line">        this.state.age &#x3D; props.age</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 生命周期钩子函数：组件已挂载</span><br><span class="line">    componentDidMount() &#123;</span><br><span class="line">        &#x2F;&#x2F;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 生命周期钩子函数：组件即将卸载</span><br><span class="line">    componentWillUnmount() &#123;</span><br><span class="line">        &#x2F;&#x2F;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 类方法</span><br><span class="line">    updatePerson() &#123;</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">            name: &#39;&#39;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;&gt;</span><br><span class="line">                &lt;p&gt;姓名：&#123; this.state.name&#125;&lt;&#x2F;p&gt;</span><br><span class="line">                &lt;p&gt;年龄：&#123; this.state.age&#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;&#x2F;&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>状态只在该组件内可访问，其他组件不可访问。</p>
<p>React组件的数据自顶向下单向流动。</p>
<p>由于状态的更新是异步的，所以setState的时候需要接受一个函数来设置state。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">this.setState((prevState, props) &#x3D;&gt; (&#123;</span><br><span class="line">  counter: prevState.counter + props.increment</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>


<h2 id="组件传参"><a href="#组件传参" class="headerlink" title="组件传参"></a>组件传参</h2><h3 id="props"><a href="#props" class="headerlink" title="props"></a>props</h3><p>React父子组件之间可以通过 <code>props</code> 来传参（包括js的所有数据类型以及JSX，可以通过传递JSX来实现类似Vue的插槽的功能）。</p>
<p>props和state的区别是：props不可变，state可以变更。</p>
<p>props通过父组件更新props来更新。</p>
<p>state通过set来更新。</p>
<p>实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 方式1：</span><br><span class="line">function Hello(props) &#123;</span><br><span class="line">    return &lt;h1&gt;hello, &#123; props.name &#125;&lt;&#x2F;h1&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 方式2：</span><br><span class="line">function Hello(&#123; name &#125;) &#123;</span><br><span class="line">    return &lt;h1&gt;hello, &#123; name &#125;&lt;&#x2F;h1&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 调用组件</span><br><span class="line">function Home() &#123;</span><br><span class="line">    const myName &#x3D; &#39;Mason&#39;</span><br><span class="line">    return &lt;Hello name&#x3D;&#123;myName&#125; &#x2F;&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="props默认值"><a href="#props默认值" class="headerlink" title="props默认值"></a>props默认值</h3><p>如果组件的props需要默认值怎么设置呢？</p>
<ol>
<li><strong>函数组件</strong>可以通过直接设置props中变量的默认值进行设置。</li>
<li><strong>函数组件和类组件</strong>都可以通过设置 <code>defaultProps</code> 来设置默认值。</li>
</ol>
<p>一般使用第一种。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 方法一</span><br><span class="line">function Person(&#123; name &#x3D; &#39;&#39;, age &#x3D; 0, gender &#x3D; &#39;male&#39; &#125;) &#123;</span><br><span class="line">    &#x2F;&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 方法二</span><br><span class="line">function Person(&#123; name, age, gender &#125;) &#123;</span><br><span class="line">    &#x2F;&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.defaultProps &#x3D; &#123;</span><br><span class="line">    name: &#39;&#39;,</span><br><span class="line">    age: 0,</span><br><span class="line">    gender: &#39;male&#39;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="props校验"><a href="#props校验" class="headerlink" title="props校验"></a>props校验</h3><p>props的校验使用 <code>prop-types</code> 库。</p>
<h4 id="安装prop-types"><a href="#安装prop-types" class="headerlink" title="安装prop-types"></a>安装prop-types</h4><figure class="highlight bash"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S prop-types</span><br></pre></td></tr></table></figure>

<h4 id="使用prop-types"><a href="#使用prop-types" class="headerlink" title="使用prop-types"></a>使用prop-types</h4><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入</span><br><span class="line">import PropTypes from &#39;prop-types&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 组件</span><br><span class="line">function Person( name, age ) &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;&gt;</span><br><span class="line">            &lt;p&gt;&#123; name &#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;&#123; age &#125;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 指定了props变量的类型和是否必须</span><br><span class="line">Person.propTypes &#x3D; &#123;</span><br><span class="line">    name: PropTypes.string.isRequired,</span><br><span class="line">    age: PropTypes.number.isRequired,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>React事件命名采用camelCase形式。</p>
<p>绑定的事件后需要传入一个事件处理函数。</p>
<p>实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function submitHandler(e) &#123;</span><br><span class="line">    &#x2F;&#x2F; 处理事件</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Button() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;button onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;submitHandler(e)&#125;&#125;&gt;提交&lt;&#x2F;button&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在类组件中需要注意 <code>this</code> 的指向问题，区别普通函数和箭头函数。</p>
<h3 id="父组件通过props将事件处理函数传递给子组件处理"><a href="#父组件通过props将事件处理函数传递给子组件处理" class="headerlink" title="父组件通过props将事件处理函数传递给子组件处理"></a>父组件通过props将事件处理函数传递给子组件处理</h3><p>可以直接将事件处理函数卸载组件中，也可以将事件处理函数作为 <code>props</code> 传递给子组件，在子组件中处理。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 子组件</span><br><span class="line">function Button(&#123;onClickHandler, buttonText&#125;) &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;button onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;onClickHandler(e)&#125;&#125;&gt;&#123; buttonText &#125;&lt;&#x2F;button&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 父组件，调用子组件</span><br><span class="line">function Form() &#123;</span><br><span class="line">    function handler() &#123;</span><br><span class="line">        alert(123)</span><br><span class="line">    &#125;</span><br><span class="line">    return (</span><br><span class="line">        &lt;Button onClickHandler&#x3D;&#123;handler&#125;&gt;&lt;&#x2F;Button&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="事件传播"><a href="#事件传播" class="headerlink" title="事件传播"></a>事件传播</h3><p>如果父元素和子元素绑定了同一个事件，触发子元素的事件后会一层一层传播到外层元素并触发事件。</p>
<h3 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h3><p>方法：<code>stopPropagation</code></p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function Button() &#123;</span><br><span class="line">    function submit(e) &#123;</span><br><span class="line">        e.stopPropagation()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;button onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;submit(e)&#125;&#125;&gt;提交&lt;&#x2F;button&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="阻止事件默认行为"><a href="#阻止事件默认行为" class="headerlink" title="阻止事件默认行为"></a>阻止事件默认行为</h3><p>方法：<code>preventDefault</code></p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function Link() &#123;</span><br><span class="line">    const url &#x3D; &#39;https:&#x2F;&#x2F;www.google.com&#x2F;&#39;</span><br><span class="line">    function clickLinkHandler(e) &#123;</span><br><span class="line">        e.preventDefault()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;a src&#x3D;&#123;url&#125; onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;clickLinkHandler(e)&#125;&#125;&gt;链接&lt;&#x2F;a&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="捕获子元素事件"><a href="#捕获子元素事件" class="headerlink" title="捕获子元素事件"></a>捕获子元素事件</h3><p>可以在父元素上绑定 <code>onClickCapture</code> 事件来监听子元素的事件。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function Button() &#123;</span><br><span class="line">    function onClickCaptureHandler(e) &#123;</span><br><span class="line">        console.log(e)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;div onClickCapture&#x3D;&#123;(e) &#x3D;&gt; &#123;onClickCaptureHandler(e)&#125;&#125;&gt;</span><br><span class="line">            &lt;button onClick&#x3D;&#123;e &#x3D;&gt; e.stopPropagation()&#125;&gt;提交&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h2><h3 id="使用if…else判断来返回不同的React-DOM"><a href="#使用if…else判断来返回不同的React-DOM" class="headerlink" title="使用if…else判断来返回不同的React DOM"></a>使用if…else判断来返回不同的React DOM</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Home(props) &#123;</span><br><span class="line">    if (props.isLogin) &#123;</span><br><span class="line">        return &lt;UserHome &#x2F;&gt;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return &lt;GuestHome &#x2F;&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useState &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Home(props) &#123;</span><br><span class="line">    const [isLogin, setIsLogin] &#x3D; useState(false)</span><br><span class="line"></span><br><span class="line">    function toggleLogin(e) &#123;</span><br><span class="line">        setIsLogin(!isLogin)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;p&gt;&#123; toggleLogin ? &#39;已登录&#39; : &#39;未登录&#39; &#125;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;button onClick&#x3D;&#123;(e) &#x3D;&gt; &#123;toggleLogin(e)&#125;&#125;&gt;切换&lt;&#x2F;button&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用-amp-amp-运算符"><a href="#使用-amp-amp-运算符" class="headerlink" title="使用&amp;&amp;运算符"></a>使用&amp;&amp;运算符</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function MessageBox(props) &#123;</span><br><span class="line">    const msgList &#x3D; props.messages</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &#123; msgList.length &amp;&amp; &lt;p&gt;有&#123; msgList.length &#125;条信息未读&lt;&#x2F;p&gt; &#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JSX对于 <code>&amp;&amp;</code> 运算符的处理：<br>如果左侧为 <code>truthy</code>，那么之间返回右侧的值。<br>如果左侧为 <code>falsy</code>，那么直接返回false且不会被渲染。</p>
<h3 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Home(props) &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &#123; props.isLogin ? &lt;UserHome &#x2F;&gt; : &lt;GuestHome &#x2F;&gt; &#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="阻止组件被渲染"><a href="#阻止组件被渲染" class="headerlink" title="阻止组件被渲染"></a>阻止组件被渲染</h3><p>让render函数返回null即可阻止组件被渲染。</p>
<h2 id="组件API"><a href="#组件API" class="headerlink" title="组件API"></a>组件API</h2><pre><code>注意：以下的API中的callback都会在重新渲染后被调用。</code></pre><h3 id="setState"><a href="#setState" class="headerlink" title="setState"></a>setState</h3><p>用法：<code>setState(object nextState[, function callback])</code></p>
<p>setState会合并旧的state和新的state（以新的state为准）。</p>
<p>setState会重新渲染组件。</p>
<p>修改state只能通过setState。</p>
<h3 id="replaceState"><a href="#replaceState" class="headerlink" title="replaceState"></a>replaceState</h3><p>用法：<code>replaceState(object nextState[, function callback])</code></p>
<p>replaceState会替换state，只会保留新的state。</p>
<h3 id="setProps"><a href="#setProps" class="headerlink" title="setProps"></a>setProps</h3><p>用法：<code>setProps(object nextProps[, function callback])</code></p>
<p>setProps会合并旧的props和新的props（以新的props为准）。</p>
<p>setProps会重新渲染组件。</p>
<h3 id="replaceProps"><a href="#replaceProps" class="headerlink" title="replaceProps"></a>replaceProps</h3><p>用法：<code>replaceProps(object nextProps[, function callback])</code></p>
<p>replaceProps会替换props，只会保留新的props。</p>
<h3 id="forceUpdate"><a href="#forceUpdate" class="headerlink" title="forceUpdate"></a>forceUpdate</h3><p>用法：<code>forceUpdate([function callback])</code></p>
<p>forceUpdate会使组件重新渲染。</p>
<p>避免使用forceUpdate。</p>
<h3 id="findDOMNode"><a href="#findDOMNode" class="headerlink" title="findDOMNode"></a>findDOMNode</h3><p>用法：<code>DOMElement findDOMNode()</code></p>
<p>返回值：DOM元素DOMElement</p>
<p>避免使用findDOMNode</p>
<p><strong>已废弃。</strong></p>
<h3 id="isMounted"><a href="#isMounted" class="headerlink" title="isMounted"></a>isMounted</h3><p>用法：<code>bool isMounted()</code></p>
<p>isMounted用于判断组件是否挂载。</p>
<p><strong>已废弃。</strong>，现在采用组件生命周期钩子函数判断是否已经挂载。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">    this.mounted &#x3D; true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillUnmount() &#123;</span><br><span class="line">    this.mounted &#x3D; false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="组件生命周期"><a href="#组件生命周期" class="headerlink" title="组件生命周期"></a>组件生命周期</h2><p>参考另一篇我的笔记。</p>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>组件内一般在 <code>componentDidMount</code> 中请求数据，获取到数据后存储在state中，再用setState重新渲染组件。</p>
<p>在组件卸载之前 <code>componentWillUnmount</code> 内取消未完成的请求。</p>
<p>实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; Component &#125; from &#39;react&#39;</span><br><span class="line">import axios from &#39;axios&#39;</span><br><span class="line"></span><br><span class="line">class MyComponent extends Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props)</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      data: null,</span><br><span class="line">      error: null</span><br><span class="line">    &#125;</span><br><span class="line">    this.source &#x3D; axios.CancelToken.source()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    this.fetchData()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    &#x2F;&#x2F; 取消未完成的请求</span><br><span class="line">    this.source.cancel(&#39;Component unmounted&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  async fetchData() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      const response &#x3D; await axios.get(&#39;https:&#x2F;&#x2F;api.example.com&#x2F;data&#39;, &#123;</span><br><span class="line">        cancelToken: this.source.token</span><br><span class="line">      &#125;)</span><br><span class="line">      this.setState(&#123; data: response.data &#125;)</span><br><span class="line">    &#125; catch (error) &#123;</span><br><span class="line">      if (axios.isCancel(error)) &#123;</span><br><span class="line">        console.log(&#39;Request canceled&#39;, error.message)</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.setState(&#123; error: error.message &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; data, error &#125; &#x3D; this.state</span><br><span class="line"></span><br><span class="line">    if (error) &#123;</span><br><span class="line">      return &lt;div&gt;Error: &#123;error&#125;&lt;&#x2F;div&gt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &#123;data ? (</span><br><span class="line">          &lt;div&gt;Data: &#123;JSON.stringify(data)&#125;&lt;&#x2F;div&gt;</span><br><span class="line">        ) : (</span><br><span class="line">          &lt;div&gt;Loading...&lt;&#x2F;div&gt;</span><br><span class="line">        )&#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default MyComponent</span><br></pre></td></tr></table></figure>


<h2 id="表单与事件"><a href="#表单与事件" class="headerlink" title="表单与事件"></a>表单与事件</h2><h3 id="input"><a href="#input" class="headerlink" title="input"></a>input</h3><p>比如react处理input：value绑定state，输入时更新state。</p>
<p>组件内处理输入：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useState &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Form() &#123;</span><br><span class="line">    const [inputValue, setInputValue] &#x3D; useState(&#39;&#39;)</span><br><span class="line"></span><br><span class="line">    function inputHandler(e) &#123;</span><br><span class="line">        setInputValue(e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; value&#x3D;&#123;inputValue&#125; onChange&#x3D;&#123;inputHandler&#125; &#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>父组件处理输入：父组件通过props传递绑定的变量给子组件，父组件通过props传递处理函数给子组件。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useState &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Input(&#123; inputValue, inputHandler &#125;) &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; value&#x3D;&#123;inputValue&#125; onChange&#x3D;&#123;inputHandler&#125; &#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Form() &#123;</span><br><span class="line">    const [v, setV] &#x3D; useState(&#39;&#39;)</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;Input inputValue&#x3D;&#123;v&#125; inputHandler&#x3D;&#123;setV&#125; &#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useState &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Form() &#123;</span><br><span class="line">    const [selectValue, setSelectValue] &#x3D; useState(&#39;&#39;)</span><br><span class="line">    </span><br><span class="line">    function submitHandler(e) &#123;</span><br><span class="line">        e.preventDefault()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function changeSelectHandler(e) &#123;</span><br><span class="line">        setSelectValue(e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return (</span><br><span class="line">        &lt;form onSubmit&#x3D;&#123;submitHandler&#125;&gt;</span><br><span class="line">            &lt;select value&#x3D;&#123;selectValue&#125; onChange&#x3D;&#123;changeSelectHandler&#125;&gt;</span><br><span class="line">                &lt;option value&#x3D;&quot;1&quot;&gt;1&lt;&#x2F;option&gt;</span><br><span class="line">                &lt;option value&#x3D;&quot;2&quot;&gt;2&lt;&#x2F;option&gt;</span><br><span class="line">                &lt;option value&#x3D;&quot;3&quot;&gt;3&lt;&#x2F;option&gt;</span><br><span class="line">            &lt;&#x2F;select&gt;</span><br><span class="line">        &lt;&#x2F;form&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多个表单处理"><a href="#多个表单处理" class="headerlink" title="多个表单处理"></a>多个表单处理</h3><p>如果有多个input元素，可以给每一个元素添加一个name属性，并根据name进行处理。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function Form() &#123;</span><br><span class="line">    function handleInputChange(e) &#123;</span><br><span class="line">       const name &#x3D; event.target.name</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F; 根据name处理</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;input name&#x3D;&quot;name1&quot; type&#x3D;&quot;text&quot; onChange&#x3D;&#123;handleInputChange&#125; &#x2F;&gt;</span><br><span class="line">        &lt;br &#x2F;&gt;</span><br><span class="line">        &lt;input name&#x3D;&quot;name2&quot; type&#x3D;&quot;text&quot; onChange&#x3D;&#123;handleInputChange&#125; &#x2F;&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Refs"><a href="#Refs" class="headerlink" title="Refs"></a>Refs</h2><p>React提供了<code>Refs</code>（类似Vue的Refs），可以绑定到任何组件上，可以通过引用Refs拿到组件实例。</p>
<h3 id="useRef"><a href="#useRef" class="headerlink" title="useRef"></a>useRef</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useRef, useEffect &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">const MyComponent &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  const inputRef &#x3D; useRef(null)</span><br><span class="line"></span><br><span class="line">  useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 组件挂载后或者更新前，将焦点设置到输入框</span><br><span class="line">    inputRef.current.focus()</span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  const handleClick &#x3D; (e) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 在点击按钮时，获取输入框的值</span><br><span class="line">    alert(inputRef.current.value)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;text&quot; ref&#x3D;&#123;inputRef&#125; &#x2F;&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;e &#x3D;&gt; &#123;handleClick(e)&#125;&#125;&gt;Get Value&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default MyComponent</span><br></pre></td></tr></table></figure>

<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><p>导航区链接：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Link from &#39;react-router-dom&#39;</span><br><span class="line"></span><br><span class="line">&lt;Link to&#x3D;&quot;&#x2F;Home&quot;&gt;首页&lt;&#x2F;Link&gt;</span><br></pre></td></tr></table></figure>

<p>展示区Route：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入需要展示的组件</span><br><span class="line">import Home from &#39;.&#x2F;components&#x2F;Home&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 根据路由展示组件</span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;Home&quot; component&#x3D;&#123;Home&#125; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<article class="message is-warning"><div class="message-body">
<p>注意：<br>普通组件存放在components下，路由组件存放在pages下。</p>
</div></article>

<h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><p>Switch组件用于在多个路由规则之间进行选择，并且在找到第一个匹配的路由后停止匹配。</p>
<p>定义路由：在Switch组件内部定义路由规则。确保将最通用的路由放在最后，以避免它被其他更具体的路由覆盖。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">   &lt;Switch&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;about&quot; component&#x3D;&#123;About&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;contact&quot; component&#x3D;&#123;Contact&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;Home&#125; &#x2F;&gt;</span><br><span class="line">   &lt;&#x2F;Switch&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>

<p>在上面的示例中，如果URL匹配<code>/about</code>，则将渲染<code>About</code>组件。如果URL匹配<code>/contact</code>，则将渲染<code>Contact</code>组件。如果URL未匹配任何其他路由，则将渲染<code>Home</code>组件。</p>
<p>可选步骤：还可以在Switch组件的末尾添加一个没有path属性的Route组件，作为404页面。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">   &lt;Switch&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;about&quot; component&#x3D;&#123;About&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;contact&quot; component&#x3D;&#123;Contact&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;Home&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route component&#x3D;&#123;NotFound&#125; &#x2F;&gt;</span><br><span class="line">   &lt;&#x2F;Switch&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>

<p>Switch组件确保只有一个匹配的路由会被渲染。这对于避免多个路由同时匹配的情况非常有用，从而保证了预期的路由行为。</p>
<h3 id="Redict"><a href="#Redict" class="headerlink" title="Redict"></a>Redict</h3><p>可以使用Redict兜底，当所有路由都不匹配时跳转到Redict指定的路由。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Router&gt;</span><br><span class="line">   &lt;Switch&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;about&quot; component&#x3D;&#123;About&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;contact&quot; component&#x3D;&#123;Contact&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Route path&#x3D;&quot;&#x2F;&quot; component&#x3D;&#123;Home&#125; &#x2F;&gt;</span><br><span class="line">      &lt;Redict to&#x3D;&quot;&#x2F;home&quot; &#x2F;&gt;</span><br><span class="line">   &lt;&#x2F;Switch&gt;</span><br><span class="line">&lt;&#x2F;Router&gt;</span><br></pre></td></tr></table></figure>

<h3 id="路由中携带参数"><a href="#路由中携带参数" class="headerlink" title="路由中携带参数"></a>路由中携带参数</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 路由链接中携带参数</span><br><span class="line">&lt;Link to&#x3D;&quot;&#x2F;detail&#x2F;2832737&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 注册路由，定义路由中接受的参数</span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;detail&#x2F;:id&quot; component&#x3D;&#123;Detail&#125; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 在路由对应组件内获取参数</span><br><span class="line">function Detail(props) &#123;</span><br><span class="line">    const &#123; id &#125; &#x3D; props.match.params</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &#123; id &#125;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Detail</span><br></pre></td></tr></table></figure>

<h3 id="路由中携带查询参数"><a href="#路由中携带查询参数" class="headerlink" title="路由中携带查询参数"></a>路由中携带查询参数</h3><figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 路由链接中携带查询参数</span><br><span class="line">&lt;Link to&#x3D;&quot;&#x2F;detail?id&#x3D;2832737&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 注册路由</span><br><span class="line">&lt;Route path&#x3D;&quot;&#x2F;detail&quot; component&#x3D;&#123;Detail&#125; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 在路由对应组件内获取查询参数</span><br><span class="line">function Detail(props) &#123;</span><br><span class="line">   const &#123; search &#125; &#x3D; props.location</span><br><span class="line">   const searchQuery &#x3D; qs.parse(search.slice(1))</span><br><span class="line"></span><br><span class="line">   return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">         &#123; searchQuery &#125;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">   )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Detail</span><br></pre></td></tr></table></figure>

<h3 id="在组件内跳转路由"><a href="#在组件内跳转路由" class="headerlink" title="在组件内跳转路由"></a>在组件内跳转路由</h3><p>调用push, replace, goBack, goForward, go方法。</p>
<h3 id="完整实例"><a href="#完整实例" class="headerlink" title="完整实例"></a>完整实例</h3><ol>
<li>安装</li>
</ol>
<figure class="highlight bash"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -S react-router-dom</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建Home组件</li>
</ol>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Home.js</span><br><span class="line">import React from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">const Home &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;Welcome to Home&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default Home</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>定义路由</li>
</ol>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; App.js</span><br><span class="line">import React from &#39;react&#39;</span><br><span class="line">import &#123; BrowserRouter as Router, Route, Switch &#125; from &#39;react-router-dom&#39;</span><br><span class="line">import Home from &#39;.&#x2F;Home&#39;</span><br><span class="line"></span><br><span class="line">const App &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;Router&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Switch&gt;</span><br><span class="line">          &#123;&#x2F;* Define your routes here *&#x2F;&#125;</span><br><span class="line">          &lt;Route path&#x3D;&quot;&#x2F;home&quot; component&#x3D;&#123;Home&#125; &#x2F;&gt;</span><br><span class="line">          &#123;&#x2F;* Add more routes if needed *&#x2F;&#125;</span><br><span class="line">        &lt;&#x2F;Switch&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;Router&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App</span><br></pre></td></tr></table></figure>

<p>现在，当访问<code>/home</code>时将渲染 <code>Home</code> 组件。</p>
<h2 id="Hooks"><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h2><h3 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h3><p>用于组件状态管理。</p>
<p>如果需要依赖于老的状态来更新新的状态，则可以传入函数来作为setState的参数，其中函数的参数为老的值，返回值为新的值。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useState &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Demo(props) &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState(0)</span><br><span class="line"></span><br><span class="line">  function incressCount() &#123;</span><br><span class="line">    &#x2F;&#x2F; 直接传入值</span><br><span class="line">    setCount(count + 1)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 传入函数，函数的参数是原值，返回新的值</span><br><span class="line">    setCount(count &#x3D;&gt; count + 1)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;button onClick&#x3D;&#123;incressCount&#125;&gt;加一&lt;&#x2F;button&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a>useEffect</h3><p>用于模拟组件生命周期中的钩子函数，用于在组件渲染后执行副作用，接受一个回调函数（副作用）作为参数并在组件挂载、更新、卸载时执行，第二个参数是状态数组（state数组）。当状态数组发生变化时，react会重新渲染并执行副作用（回调函数）。</p>
<article class="message is-info"><div class="message-body">
<p>如果传入非空数组，则当数组中的这些state变化时会执行副作用。</p>
<p>如果传递一个空数组 <code>[]</code>，则表示不检测任何state，只在组件挂载时执行一次副作用。</p>
<p>如果不传递第二个参数，则会监测所有的state，初始化的时候以及每个状态更新的时候都会执行副作用。</p>
</div></article>

<p>使用useEffect实现组件的三个钩子函数：</p>
<ul>
<li>componentDidMount</li>
</ul>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; componentDidMount 相关的操作</span><br><span class="line">  return () &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; componentWillUnmount 在组件卸载前或者重新渲染前执行相关的清理操作</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure>

<ul>
<li>componentDidUpdate</li>
</ul>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; componentDidUpdate 相关的操作</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>componentWillUnmount</li>
</ul>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">useEffect(() &#x3D;&gt; &#123;</span><br><span class="line">  return () &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; componentWillUnmount 在组件卸载前或者重新渲染前执行相关的清理操作</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure>

<h3 id="useContext"><a href="#useContext" class="headerlink" title="useContext"></a>useContext</h3><p>使用useContext可以方便的在组件中访问全局的上下文数据。</p>
<ol>
<li>创建上下文对象：</li>
</ol>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 引入createContext</span><br><span class="line">import React, &#123; createContext &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建上下文对象</span><br><span class="line">const MyContext &#x3D; createContext()</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>向子组件提供上下文对象</li>
</ol>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import ChildrenComponent from &#39;.&#x2F;ChildrenComponent&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 向子组件提供上下文对象</span><br><span class="line">function Demo(props) &#123;</span><br><span class="line">  const sharedData &#x3D; &#39;shared data&#39;</span><br><span class="line">  </span><br><span class="line">  &lt;MyContext.Provider value&#x3D;&#123;sharedData&#125;&gt;</span><br><span class="line">    &lt;ChildrenComponent&gt;&lt;&#x2F;ChildrenComponent&gt;</span><br><span class="line">  &lt;MyContext.Provide&#x2F;&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>子组件中访问上下文对象</li>
</ol>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useContext &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function ChildrenComponent(props) &#123;</span><br><span class="line">  &#x2F;&#x2F; 使用useContext获取上下文对象</span><br><span class="line">  const data &#x3D; useContext(MyContext)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123; data &#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>当上下文数据发生变化时，使用了该数据的组件会自动重新渲染。</li>
<li>如果上下文发生了嵌套，则使用了上下文数据的组件会获取最接近的Provider提供的值。</li>
<li>如果上下文数据变化较大或者变化频繁，可以使用memo优化性能。</li>
</ul>
<h3 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h3><p>可以代替useState，用于在组件中使用复杂的状态逻辑，接受一个reducer函数和初始状态作为参数，并返新的状态和dispatch函数。</p>
<ol>
<li>定义reducer函数</li>
</ol>
<p>reducer函数接受当前状态和一个操作（action），并根据操作的类型来更新状态。返回更新后的状态和dispatch函数。</p>
<figure class="highlight js"><figcaption><span>js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reducer</span>(<span class="params">state, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'INCREMENT'</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        count: state.count + <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'DECREMENT'</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        count: state.count - <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>定义初始状态</li>
</ol>
<figure class="highlight js"><figcaption><span>js </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  count: <span class="number">0</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在组件中应用reducer</li>
</ol>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useReducer &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Counter() &#123;</span><br><span class="line">  const [state, dispatch] &#x3D; useReducer(reducer, initialState)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123;state.count&#125;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; dispatch(&#123; type: &#39;INCREMENT&#39; &#125;)&#125;&gt;increment&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; dispatch(&#123; type: &#39;DECREMENT&#39; &#125;)&#125;&gt;decrement&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h3><p>可以用来优化函数的性能，接受一个回调函数和依赖项数组作为参数，并返回一个经过优化的回调函数。该函数只有在以来数组发生变化时才会重新创建。如果以来数字不变，useCallback会返回之前缓存的回调函数引用，避免了重新创建函数。</p>
<p>使用场景：</p>
<ol>
<li><p>传递函数给子组件<br>当将回调函数作为属性传递给子组件时，可以使用useCallback来缓存回调函数以避免不必要的子组件的重新渲染。</p>
</li>
<li><p>避免额外的开销<br>如果回调函数依赖于组件的状态或者属性，但是不需要每次组件渲染时都创建新的函数实例，这个时候可以使用useCallback将相关依赖项添加到依赖数组中，可以避免不必要的重新创建函数实例的开销。</p>
</li>
<li><p>当useEffect或者useMemo的依赖项是回调函数<br>当将回调函数作为useEffect或者useMemo的依赖项时，可以使用useCallback来缓存回调函数，可以确保依赖项变化时回调函数能更新。</p>
</li>
<li><p>避免重复创建回调函数<br>如果需要频繁创建回调函数，使用useCallback可以减少不必要的创建开销。</p>
</li>
</ol>
<p>useCallback实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useCallback &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Demo(&#123; handler &#125;) &#123;</span><br><span class="line">  &#x2F;&#x2F; 使用useCallback缓存回调函数</span><br><span class="line">  const cb &#x3D; useCallback(() &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 自己的逻辑</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 执行handler</span><br><span class="line">    handler()</span><br><span class="line"></span><br><span class="line">  &#125;, [handler])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里，Demo组件接收了一个handler函数，使用useCallback缓存了handler函数。当handler发生变化时cb才会被重新创建。</p>
<p>如果不使用useCallback，那么每次Demo组件渲染时cb都会被重新创建。</p>
<h3 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a>useMemo</h3><p>用于组件渲染过程中进行性能优化，避免不必要的计算和重复渲染。</p>
<p><code>useMemo</code> 接受两个参数：一个计算函数和依赖数组，组件渲染时会执行计算函数并将计算结果缓存起来，当依赖数组发生变化时会重新执行计算函数。这样就可以避免每次渲染时重复计算。</p>
<p>使用场景：</p>
<ol>
<li><p>缓存计算结果</p>
</li>
<li><p>避免不必要的重新渲染<br>如果一个组件依赖一个状态或者属性，但是这个状态或者属性的变化不会影响组件的渲染时，可以使用useMemo缓存结果避免重新渲染。</p>
</li>
<li><p>优化子组件渲染<br>当将一个计算结果作为属性传给子组件时，可以使用useMemo缓存计算结果避免每次父组件渲染时都重新计算并传给子组件触发子组件的重新渲染。</p>
</li>
<li><p>比较操作<br>当需要进行比较操作时，比如数组或者对象，可以使用useMemo缓存比较结果，避免每次渲染时重新比较。</p>
</li>
</ol>
<p>useMemo实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useMemo, useState &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function ExpensiveComponent() &#123;</span><br><span class="line">  &#x2F;&#x2F; 计算函数</span><br><span class="line">  function calc() &#123;</span><br><span class="line">    return Math.random()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 使用useMemo缓存计算结果</span><br><span class="line">  const expensiveValue &#x3D; useMemo(() &#x3D;&gt; calc(), [])</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123; expensiveValue &#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function App() &#123;</span><br><span class="line">  const [count, setCount] &#x3D; useState(0)</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCount(count + 1)&#125;&gt;increment&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;ExpensiveComponent &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里为了避免每次渲染时都重新计算expensiveValue，使用了useMemo来缓存计算结果。</p>
<p>useMemo第二个参数传入空数组，确保了只在组件第一次渲染时执行一次计算函数，并将计算结果缓存起来。当父组件中的count变化时，ExpensiveComponent组件重新渲染但是不会重新计算expensiveValue。</p>
<h3 id="useRef-1"><a href="#useRef-1" class="headerlink" title="useRef"></a>useRef</h3><p>这个hook可以获取组件实例。</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import &#123; useRef &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Demo() &#123;</span><br><span class="line">  const myRef &#x3D; useRef()</span><br><span class="line"></span><br><span class="line">  function getRef() &#123;</span><br><span class="line">    console.log(&#39;myRef&#39;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;button ref&#x3D;&#123;myRef&#125; onClick&#x3D;&#123;getRef&#125;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="useLayoutEffect"><a href="#useLayoutEffect" class="headerlink" title="useLayoutEffect"></a>useLayoutEffect</h3><p>和useEffect类似，但是它在DOM更新后，在浏览器重排重绘之前触发，可以在DOM更新后立刻执行副作用。</p>
<p>一般用于需要在DOM更新之后获取到最新的布局和DOM的场景。</p>
<p>实例：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; useLayoutEffect, useRef &#125; from &#39;react&#39;</span><br><span class="line"></span><br><span class="line">function Demo() &#123;</span><br><span class="line">  const myRef &#x3D; useRef()</span><br><span class="line">  </span><br><span class="line">  useLayoutEffect(() &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; DOM已更新，进行一些获取、操作最新DOM的操作</span><br><span class="line">    const &#123;width, height&#125; &#x3D; myRef.current.getBoundingClientRect()</span><br><span class="line">    </span><br><span class="line">  &#125;, [])</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;div ref&#x3D;&#123;myRef&#125;&gt;demo&lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要注意的是，useLayoutEffect会阻塞浏览器渲染，因此不要在useLayoutEffect中做非常耗时的操作，仅用于获取新布局或者DOM。</p>
<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><p>Redux是react状态管理的库，可以集中管理多个组件共享的状态。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -S redux react-redux</span><br></pre></td></tr></table></figure>

<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ol>
<li>创建redux store</li>
</ol>
<p>redux store包含了整个state，在使用之前需要先创建一个store，通常在根组件中创建并配置redux store。</p>
<ol start="2">
<li>定义actions</li>
</ol>
<p>actions是描述发生了什么的普通的js对象，需要定义action creators来创建actions。</p>
<ol start="3">
<li>定义reducers</li>
</ol>
<p>reducers指定了应用状态如何响应actions并更新状态的逻辑，每个reducer都负责管理全局state树中的一部分数据。</p>
<ol start="4">
<li>使用react-redux链接react组件和redux store</li>
</ol>
<p>react-redux库提供了一些API来连接react组件和redux store。可以通过<code>&lt;Provider&gt;</code>组件提供store并使用<code>connect</code>函数来连接react组件。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>App.js：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; App.js</span><br><span class="line">import React from &#39;react&#39;</span><br><span class="line">import &#123; Provider &#125; from &#39;react-redux&#39;</span><br><span class="line">import &#123; createStore &#125; from &#39;redux&#39;</span><br><span class="line">import rootReducer from &#39;.&#x2F;reducers&#39;</span><br><span class="line">import MyComponent from &#39;.&#x2F;MyComponent&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建redux store</span><br><span class="line">const store &#x3D; createStore(rootReducer)</span><br><span class="line"></span><br><span class="line">const App &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &#x2F;&#x2F; 通过Provider组件向后代组件提供state</span><br><span class="line">    &lt;Provider store&#x3D;&#123;store&#125;&gt;</span><br><span class="line">      &lt;MyComponent &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;Provider&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default App</span><br></pre></td></tr></table></figure>

<p>MyComponent.js：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; MyComponent.js</span><br><span class="line">import React from &#39;react&#39;</span><br><span class="line">import &#123; connect &#125; from &#39;react-redux&#39;</span><br><span class="line">import &#123; incrementCounter &#125; from &#39;.&#x2F;actions&#39;</span><br><span class="line"></span><br><span class="line">const MyComponent &#x3D; (&#123; counter, increment &#125;) &#x3D;&gt; &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;p&gt;Counter: &#123;counter&#125;&lt;&#x2F;p&gt;</span><br><span class="line">      &lt;button onClick&#x3D;&#123;e &#x3D;&gt; &#123;increment(e)&#125;&#125;&gt;Increment&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mapStateToProps &#x3D; state &#x3D;&gt; (&#123;</span><br><span class="line">  counter: state.counter</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">const mapDispatchToProps &#x3D; dispatch &#x3D;&gt; (&#123;</span><br><span class="line">  increment: () &#x3D;&gt; dispatch(incrementCounter())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 使connect连接到redux store</span><br><span class="line">export default connect(mapStateToProps, mapDispatchToProps)(MyComponent)</span><br></pre></td></tr></table></figure>

<p>actions.js:</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; actions.js</span><br><span class="line">export const INCREMENT_COUNTER &#x3D; &#39;INCREMENT_COUNTER&#39;</span><br><span class="line"></span><br><span class="line">export const incrementCounter &#x3D; () &#x3D;&gt; (&#123;</span><br><span class="line">  type: INCREMENT_COUNTER</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>reducers.js：</p>
<figure class="highlight plain"><figcaption><span>jsx</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; reducers.js</span><br><span class="line">import &#123; combineReducers &#125; from &#39;redux&#39;</span><br><span class="line">import &#123; INCREMENT_COUNTER &#125; from &#39;.&#x2F;actions&#39;</span><br><span class="line"></span><br><span class="line">const counterReducer &#x3D; (state &#x3D; 0, action) &#x3D;&gt; &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case INCREMENT_COUNTER:</span><br><span class="line">      return state + 1</span><br><span class="line">    default:</span><br><span class="line">      return state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const rootReducer &#x3D; combineReducers(&#123;</span><br><span class="line">  counter: counterReducer</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default rootReducer</span><br></pre></td></tr></table></figure>


<h2 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h2><h3 id="组件性能优化"><a href="#组件性能优化" class="headerlink" title="组件性能优化"></a>组件性能优化</h3><p>使用<code>PureComponent</code>优化组件渲染，PureComponent重写了shouldComponentUpdate，只有state或者props发生变化时才会返回true（浅比较）。</p>
<h2 id="React框架"><a href="#React框架" class="headerlink" title="React框架"></a>React框架</h2><ul>
<li>Next.js：是一个全栈的react框架</li>
</ul>
<figure class="highlight bash"><figcaption><span>bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-next-app@latest</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol>
<li><a href="https://www.runoob.com/react/react-tutorial.html">https://www.runoob.com/react/react-tutorial.html</a></li>
<li><a href="https://zh-hans.react.dev/learn">https://zh-hans.react.dev/learn</a></li>
<li><a href="https://blog.csdn.net/NAMECZ/article/details/122854282">https://blog.csdn.net/NAMECZ/article/details/122854282</a></li>
<li><a href="https://blog.csdn.net/qq_42696432/article/details/133943462">https://blog.csdn.net/qq_42696432/article/details/133943462</a></li>
<li><a href="https://blog.csdn.net/study_way/article/details/131752538">https://blog.csdn.net/study_way/article/details/131752538</a></li>
<li><a href="https://www.jb51.net/article/272222.htm">https://www.jb51.net/article/272222.htm</a></li>
</ol>
</div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://gcore.jsdelivr.net/gh/herotiga/cdn/img/others/alipay.jpg" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://gcore.jsdelivr.net/gh/herotiga/cdn/img/others/wechat.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/08/25/js%E4%BA%A4%E6%8D%A2%E4%B8%A4%E4%B8%AA%E5%8F%98%E9%87%8F%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">js交换两个变量的几种方法</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/07/28/js%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"><span class="level-item">js数组去重的几种方法</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread' ,
            appId: "FIy71nQcWJlhkmLypkQ2BGuD-gzGzoHsz",
            appKey: "pTicuXBYRtVYQ7y6GvegacNj",
            
            avatar: "mm",
            
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            
            highlight: true,
            
            
            
            
            
            requiredFields: [],
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/meta/avatar-mask.jpeg" alt="Mason小王子"></figure><p class="title is-size-4 is-block line-height-inherit">Mason小王子</p><p class="is-size-6 is-block">A lifelong learner who loves Math, Cosmology, Computer Science and Finance.</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Shanghai, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">242</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">40</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">12</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/herotiga" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Wechat" href="https://gcore.jsdelivr.net/gh/herotiga/cdn/img/meta/wechat.jpeg"><i class="fab fa-weixin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="E-mail" href="mailto:herotiga@vip.qq.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/herotiga"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com/herotiga"><i class="fas fa-basketball-ball"></i></a></div></div></div><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" href="#开发环境"><span class="mr-2">1</span><span>开发环境</span></a></li><li><a class="is-flex" href="#渲染"><span class="mr-2">2</span><span>渲染</span></a><ul class="menu-list"><li><a class="is-flex" href="#列表渲染"><span class="mr-2">2.1</span><span>列表渲染</span></a></li></ul></li><li><a class="is-flex" href="#JSX"><span class="mr-2">3</span><span>JSX</span></a><ul class="menu-list"><li><a class="is-flex" href="#JSX基本语法"><span class="mr-2">3.1</span><span>JSX基本语法</span></a></li><li><a class="is-flex" href="#JSX样式"><span class="mr-2">3.2</span><span>JSX样式</span></a></li><li><a class="is-flex" href="#JSX注释"><span class="mr-2">3.3</span><span>JSX注释</span></a></li><li><a class="is-flex" href="#JSX处理数组"><span class="mr-2">3.4</span><span>JSX处理数组</span></a></li></ul></li><li><a class="is-flex" href="#组件"><span class="mr-2">4</span><span>组件</span></a><ul class="menu-list"><li><a class="is-flex" href="#函数组件"><span class="mr-2">4.1</span><span>函数组件</span></a></li><li><a class="is-flex" href="#类组件"><span class="mr-2">4.2</span><span>类组件</span></a></li><li><a class="is-flex" href="#函数组件和类组件的区别"><span class="mr-2">4.3</span><span>函数组件和类组件的区别</span></a></li><li><a class="is-flex" href="#深层props传递"><span class="mr-2">4.4</span><span>深层props传递</span></a></li><li><a class="is-flex" href="#组件通信"><span class="mr-2">4.5</span><span>组件通信</span></a></li></ul></li><li><a class="is-flex" href="#状态管理"><span class="mr-2">5</span><span>状态管理</span></a><ul class="menu-list"><li><a class="is-flex" href="#state"><span class="mr-2">5.1</span><span>state</span></a></li></ul></li><li><a class="is-flex" href="#组件传参"><span class="mr-2">6</span><span>组件传参</span></a><ul class="menu-list"><li><a class="is-flex" href="#props"><span class="mr-2">6.1</span><span>props</span></a></li><li><a class="is-flex" href="#props默认值"><span class="mr-2">6.2</span><span>props默认值</span></a></li><li><a class="is-flex" href="#props校验"><span class="mr-2">6.3</span><span>props校验</span></a><ul class="menu-list"><li><a class="is-flex" href="#安装prop-types"><span class="mr-2">6.3.1</span><span>安装prop-types</span></a></li><li><a class="is-flex" href="#使用prop-types"><span class="mr-2">6.3.2</span><span>使用prop-types</span></a></li></ul></li></ul></li><li><a class="is-flex" href="#事件"><span class="mr-2">7</span><span>事件</span></a><ul class="menu-list"><li><a class="is-flex" href="#父组件通过props将事件处理函数传递给子组件处理"><span class="mr-2">7.1</span><span>父组件通过props将事件处理函数传递给子组件处理</span></a></li><li><a class="is-flex" href="#事件传播"><span class="mr-2">7.2</span><span>事件传播</span></a></li><li><a class="is-flex" href="#阻止事件冒泡"><span class="mr-2">7.3</span><span>阻止事件冒泡</span></a></li><li><a class="is-flex" href="#阻止事件默认行为"><span class="mr-2">7.4</span><span>阻止事件默认行为</span></a></li><li><a class="is-flex" href="#捕获子元素事件"><span class="mr-2">7.5</span><span>捕获子元素事件</span></a></li></ul></li><li><a class="is-flex" href="#条件渲染"><span class="mr-2">8</span><span>条件渲染</span></a><ul class="menu-list"><li><a class="is-flex" href="#使用if…else判断来返回不同的React-DOM"><span class="mr-2">8.1</span><span>使用if…else判断来返回不同的React DOM</span></a></li><li><a class="is-flex" href="#使用-amp-amp-运算符"><span class="mr-2">8.2</span><span>使用&amp;&amp;运算符</span></a></li><li><a class="is-flex" href="#三元运算符"><span class="mr-2">8.3</span><span>三元运算符</span></a></li><li><a class="is-flex" href="#阻止组件被渲染"><span class="mr-2">8.4</span><span>阻止组件被渲染</span></a></li></ul></li><li><a class="is-flex" href="#组件API"><span class="mr-2">9</span><span>组件API</span></a><ul class="menu-list"><li><a class="is-flex" href="#setState"><span class="mr-2">9.1</span><span>setState</span></a></li><li><a class="is-flex" href="#replaceState"><span class="mr-2">9.2</span><span>replaceState</span></a></li><li><a class="is-flex" href="#setProps"><span class="mr-2">9.3</span><span>setProps</span></a></li><li><a class="is-flex" href="#replaceProps"><span class="mr-2">9.4</span><span>replaceProps</span></a></li><li><a class="is-flex" href="#forceUpdate"><span class="mr-2">9.5</span><span>forceUpdate</span></a></li><li><a class="is-flex" href="#findDOMNode"><span class="mr-2">9.6</span><span>findDOMNode</span></a></li><li><a class="is-flex" href="#isMounted"><span class="mr-2">9.7</span><span>isMounted</span></a></li></ul></li><li><a class="is-flex" href="#组件生命周期"><span class="mr-2">10</span><span>组件生命周期</span></a></li><li><a class="is-flex" href="#Ajax"><span class="mr-2">11</span><span>Ajax</span></a></li><li><a class="is-flex" href="#表单与事件"><span class="mr-2">12</span><span>表单与事件</span></a><ul class="menu-list"><li><a class="is-flex" href="#input"><span class="mr-2">12.1</span><span>input</span></a></li><li><a class="is-flex" href="#select"><span class="mr-2">12.2</span><span>select</span></a></li><li><a class="is-flex" href="#多个表单处理"><span class="mr-2">12.3</span><span>多个表单处理</span></a></li></ul></li><li><a class="is-flex" href="#Refs"><span class="mr-2">13</span><span>Refs</span></a><ul class="menu-list"><li><a class="is-flex" href="#useRef"><span class="mr-2">13.1</span><span>useRef</span></a></li></ul></li><li><a class="is-flex" href="#路由"><span class="mr-2">14</span><span>路由</span></a><ul class="menu-list"><li><a class="is-flex" href="#基本用法"><span class="mr-2">14.1</span><span>基本用法</span></a></li><li><a class="is-flex" href="#Switch"><span class="mr-2">14.2</span><span>Switch</span></a></li><li><a class="is-flex" href="#Redict"><span class="mr-2">14.3</span><span>Redict</span></a></li><li><a class="is-flex" href="#路由中携带参数"><span class="mr-2">14.4</span><span>路由中携带参数</span></a></li><li><a class="is-flex" href="#路由中携带查询参数"><span class="mr-2">14.5</span><span>路由中携带查询参数</span></a></li><li><a class="is-flex" href="#在组件内跳转路由"><span class="mr-2">14.6</span><span>在组件内跳转路由</span></a></li><li><a class="is-flex" href="#完整实例"><span class="mr-2">14.7</span><span>完整实例</span></a></li></ul></li><li><a class="is-flex" href="#Hooks"><span class="mr-2">15</span><span>Hooks</span></a><ul class="menu-list"><li><a class="is-flex" href="#useState"><span class="mr-2">15.1</span><span>useState</span></a></li><li><a class="is-flex" href="#useEffect"><span class="mr-2">15.2</span><span>useEffect</span></a></li><li><a class="is-flex" href="#useContext"><span class="mr-2">15.3</span><span>useContext</span></a></li><li><a class="is-flex" href="#useReducer"><span class="mr-2">15.4</span><span>useReducer</span></a></li><li><a class="is-flex" href="#useCallback"><span class="mr-2">15.5</span><span>useCallback</span></a></li><li><a class="is-flex" href="#useMemo"><span class="mr-2">15.6</span><span>useMemo</span></a></li><li><a class="is-flex" href="#useRef-1"><span class="mr-2">15.7</span><span>useRef</span></a></li><li><a class="is-flex" href="#useLayoutEffect"><span class="mr-2">15.8</span><span>useLayoutEffect</span></a></li></ul></li><li><a class="is-flex" href="#Redux"><span class="mr-2">16</span><span>Redux</span></a><ul class="menu-list"><li><a class="is-flex" href="#安装"><span class="mr-2">16.1</span><span>安装</span></a></li><li><a class="is-flex" href="#使用"><span class="mr-2">16.2</span><span>使用</span></a></li><li><a class="is-flex" href="#实例"><span class="mr-2">16.3</span><span>实例</span></a></li></ul></li><li><a class="is-flex" href="#性能优化"><span class="mr-2">17</span><span>性能优化</span></a><ul class="menu-list"><li><a class="is-flex" href="#组件性能优化"><span class="mr-2">17.1</span><span>组件性能优化</span></a></li></ul></li><li><a class="is-flex" href="#React框架"><span class="mr-2">18</span><span>React框架</span></a></li><li><a class="is-flex" href="#参考"><span class="mr-2">19</span><span>参考</span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">theme-icarus</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://purge.jsdelivr.net/gh/herotiga/cdn@master/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">purge-cdn-cache</span></span><span class="level-right"><span class="level-item tag">purge.jsdelivr.net</span></span></a></li><li><a class="level is-mobile is-mobile" href="/outfit-note/index.html" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">outfit-note</span></span><span class="level-right"><span class="level-item tag">/outfit-note/index.html</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/AI/"><span class="level-start"><span class="level-item">AI</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/SQLite/"><span class="level-start"><span class="level-item">SQLite</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/algorithms/"><span class="level-start"><span class="level-item">algorithms</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/asm/"><span class="level-start"><span class="level-item">asm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/c-cpp/"><span class="level-start"><span class="level-item">c/cpp</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/cs/"><span class="level-start"><span class="level-item">cs</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/css/"><span class="level-start"><span class="level-item">css</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/database/"><span class="level-start"><span class="level-item">database</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/deno/"><span class="level-start"><span class="level-item">deno</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/express/"><span class="level-start"><span class="level-item">express</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/hexo/"><span class="level-start"><span class="level-item">hexo</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/html/"><span class="level-start"><span class="level-item">html</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/interview/"><span class="level-start"><span class="level-item">interview</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/java/"><span class="level-start"><span class="level-item">java</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/jquery/"><span class="level-start"><span class="level-item">jquery</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/js/"><span class="level-start"><span class="level-item">js</span></span><span class="level-end"><span class="level-item tag">57</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/latex/"><span class="level-start"><span class="level-item">latex</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/mac/"><span class="level-start"><span class="level-item">mac</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/markdown/"><span class="level-start"><span class="level-item">markdown</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/mysql/"><span class="level-start"><span class="level-item">mysql</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/node-js/"><span class="level-start"><span class="level-item">node.js</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/python/"><span class="level-start"><span class="level-item">python</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/react/"><span class="level-start"><span class="level-item">react</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/redis/"><span class="level-start"><span class="level-item">redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/shell/"><span class="level-start"><span class="level-item">shell</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/svn/"><span class="level-start"><span class="level-item">svn</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/tips/"><span class="level-start"><span class="level-item">tips</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/ts/"><span class="level-start"><span class="level-item">ts</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/ui/"><span class="level-start"><span class="level-item">ui</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/vue/"><span class="level-start"><span class="level-item">vue</span></span><span class="level-end"><span class="level-item tag">25</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/wasm/"><span class="level-start"><span class="level-item">wasm</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/web/"><span class="level-start"><span class="level-item">web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/webpack/"><span class="level-start"><span class="level-item">webpack</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%95%86%E4%B8%9A/"><span class="level-start"><span class="level-item">商业</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="level-start"><span class="level-item">小程序</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%96%B9%E6%B3%95%E8%AE%BA/"><span class="level-start"><span class="level-item">方法论</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E7%88%AC%E8%99%AB/"><span class="level-start"><span class="level-item">爬虫</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><a class="media-left" href="/2024/04/21/Express%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/"><p class="image is-64x64"><img class="thumbnail" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/nodejs.png" alt="Express路由配置"></p></a><div class="media-content size-small"><p><time dateTime="2024-04-21T02:22:41.000Z">2024-04-21</time></p><p class="title is-6"><a class="link-muted" href="/2024/04/21/Express%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE/">Express路由配置</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/express/">express</a></p></div></article><article class="media"><a class="media-left" href="/2023/09/21/SQLite%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"><p class="image is-64x64"><img class="thumbnail" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/database.png" alt="SQLite中的数据类型"></p></a><div class="media-content size-small"><p><time dateTime="2023-09-21T07:49:28.000Z">2023-09-21</time></p><p class="title is-6"><a class="link-muted" href="/2023/09/21/SQLite%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">SQLite中的数据类型</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/SQLite/">SQLite</a></p></div></article><article class="media"><a class="media-left" href="/2023/09/07/fastjson%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><p class="image is-64x64"><img class="thumbnail" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/java.png" alt="fastjson学习笔记"></p></a><div class="media-content size-small"><p><time dateTime="2023-09-07T06:55:48.000Z">2023-09-07</time></p><p class="title is-6"><a class="link-muted" href="/2023/09/07/fastjson%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">fastjson学习笔记</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/java/">java</a></p></div></article><article class="media"><a class="media-left" href="/2023/08/02/hooks/"><p class="image is-64x64"><img class="thumbnail" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/react.png" alt="浅谈hooks"></p></a><div class="media-content size-small"><p><time dateTime="2023-08-02T09:06:23.000Z">2023-08-02</time></p><p class="title is-6"><a class="link-muted" href="/2023/08/02/hooks/">浅谈hooks</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/react/">react</a> / <a class="link-muted" href="/categories/vue/">vue</a></p></div></article><article class="media"><a class="media-left" href="/2023/06/20/typescript%E4%B8%ADtype%E5%92%8Cinterface%E7%9A%84%E5%8C%BA%E5%88%AB/"><p class="image is-64x64"><img class="thumbnail" src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/cate/ts.png" alt="TypeScript中type（类型别名）和interface（接口）的区别"></p></a><div class="media-content size-small"><p><time dateTime="2023-06-20T08:17:04.000Z">2023-06-20</time></p><p class="title is-6"><a class="link-muted" href="/2023/06/20/typescript%E4%B8%ADtype%E5%92%8Cinterface%E7%9A%84%E5%8C%BA%E5%88%AB/">TypeScript中type（类型别名）和interface（接口）的区别</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/ts/">ts</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2024/04/"><span class="level-start"><span class="level-item">四月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/09/"><span class="level-start"><span class="level-item">九月 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/08/"><span class="level-start"><span class="level-item">八月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2023/05/"><span class="level-start"><span class="level-item">五月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/11/"><span class="level-start"><span class="level-item">十一月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/10/"><span class="level-start"><span class="level-item">十月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/09/"><span class="level-start"><span class="level-item">九月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/08/"><span class="level-start"><span class="level-item">八月 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/07/"><span class="level-start"><span class="level-item">七月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/05/"><span class="level-start"><span class="level-item">五月 2022</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/04/"><span class="level-start"><span class="level-item">四月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/03/"><span class="level-start"><span class="level-item">三月 2022</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/02/"><span class="level-start"><span class="level-item">二月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/09/"><span class="level-start"><span class="level-item">九月 2021</span></span><span class="level-end"><span class="level-item tag">20</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/08/"><span class="level-start"><span class="level-item">八月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/07/"><span class="level-start"><span class="level-item">七月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/03/"><span class="level-start"><span class="level-item">三月 2021</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">九月 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">17</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">一月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/11/"><span class="level-start"><span class="level-item">十一月 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">九月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">八月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">六月 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">五月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">四月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/02/"><span class="level-start"><span class="level-item">二月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/01/"><span class="level-start"><span class="level-item">一月 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/11/"><span class="level-start"><span class="level-item">十一月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/10/"><span class="level-start"><span class="level-item">十月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"><span class="tag">二分查找</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/"><span class="tag">二叉树</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84/"><span class="tag">二维数组</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><span class="tag">动态规划</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"><span class="tag">双指针</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"><span class="tag">字符串</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8E%92%E5%BA%8F/"><span class="tag">排序</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%AD%A6/"><span class="tag">数学</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E7%BB%84/"><span class="tag">数组</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A0%91/"><span class="tag">树</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%92%E5%BD%92/"><span class="tag">递归</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%93%BE%E8%A1%A8/"><span class="tag">链表</span><span class="tag is-grey-lightest">2</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=Typecasting&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="Typecasting" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div></form></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://gcore.jsdelivr.net/gh/herotiga/cdn@master/img/meta/logo.png" alt="Typecasting" height="28"></a><p class="size-small"><span>&copy; 2024 Mason小王子</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><a class="size-small" href="http://beian.miit.gov.cn" target="_blank">苏ICP备20033558号</a></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://herotiga.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>